{"error":"Error: Insufficient stock for variant 1. Available: 3\n    at C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:98:17\n    at async Proxy._transactionWithCallback (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:8120)\n    at async createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:90:20)","level":"error","message":"Error placing order","payload":{"discount":1199.988,"orderItems":[{"price":999.99,"productId":1,"quantity":12,"variantId":1}],"promoCode":"WELCOME10","shipping":15,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"remote","shippingState":"SouthWest","subtotal":11999.880000000001,"tax":1619.9838000000002,"total":12434.875800000002,"userId":2},"timestamp":"2025-10-03T21:39:40.338Z"}
{"error":"Error: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:700:11)\n    at ServerResponse.header (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.res.send (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\middlewares\\audit.middleware.ts:26:14)\n    at ServerResponse.json (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:250:15)\n    at createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:161:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error placing order","payload":{"discount":1799.9880000000003,"orderItems":[{"price":1499.99,"productId":2,"quantity":12,"variantId":4}],"promoCode":"WELCOME10","shipping":15,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"remote","shippingState":"SouthWest","subtotal":17999.88,"tax":2429.9838,"total":18644.8758,"userId":2},"timestamp":"2025-10-03T21:39:50.125Z"}
{"error":"Error: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:700:11)\n    at ServerResponse.header (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.res.send (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\middlewares\\audit.middleware.ts:26:14)\n    at ServerResponse.json (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:250:15)\n    at createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:163:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error placing order","payload":{"discount":219.99800000000002,"orderItems":[{"price":1099.99,"productId":1,"quantity":2,"variantId":2}],"promoCode":"WELCOME10","shipping":15,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"remote","shippingState":"SouthWest","subtotal":2199.98,"tax":296.9973,"total":2291.9793,"userId":1},"timestamp":"2025-10-03T21:43:59.205Z"}
{"error":"Error: Insufficient stock for variant 4. Available: 3\n    at C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:98:17\n    at async Proxy._transactionWithCallback (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:8120)\n    at async createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:90:20)","level":"error","message":"Error placing order","payload":{"discount":0,"orderItems":[{"price":1499.99,"productId":2,"quantity":5,"variantId":4}],"shipping":15,"shippingCity":"Bamenda","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"remote","shippingState":"NorthWest","subtotal":7499.95,"tax":1124.9924999999998,"total":8639.9425,"userId":1},"timestamp":"2025-10-04T03:56:39.206Z"}
{"error":"Error: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:700:11)\n    at ServerResponse.header (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.res.send (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\middlewares\\audit.middleware.ts:26:14)\n    at ServerResponse.json (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:250:15)\n    at createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:163:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error placing order","payload":{"discount":0,"orderItems":[{"price":1799.99,"productId":2,"quantity":5,"variantId":5}],"shipping":15,"shippingCity":"Bamenda","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"remote","shippingState":"NorthWest","subtotal":8999.95,"tax":1349.9925,"total":10364.942500000001,"userId":1},"timestamp":"2025-10-04T03:56:51.789Z"}
{"error":"PrismaClientValidationError: \nInvalid `tx.order.create()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:119:36\n\n  116 }\n  117 \n  118 // 3. Create order with items\n→ 119 const order = await tx.order.create({\n        data: {\n          userId: 1,\n          orderDate: new Date(\"2025-10-04T04:10:40.218Z\"),\n          discount: 0,\n          tax: 824.9925,\n          shipping: 15,\n          total: 6339.9425,\n          totalAmount: 6339.9425,\n          status: \"Pending\",\n          shippingCity: \"Bamenda\",\n          shippingState: \"NorthWest\",\n          shippingCountry: \"Cameroon\",\n          shippingMethod: \"standard\",\n          orderItems: {\n            create: [\n              {\n                variantId: 2,\n                quantity: 5,\n                productId: 1\n              }\n            ]\n          }\n        },\n        include: {\n          orderItems: true\n        }\n      })\n\nArgument `price` is missing.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:119:21\n    at async Proxy._transactionWithCallback (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:8120)\n    at async createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:90:20)","level":"error","message":"Error placing order","payload":{"discount":0,"orderItems":[{"price":1099.99,"productId":1,"quantity":5,"variantId":2}],"shipping":15,"shippingCity":"Bamenda","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"remote","shippingState":"NorthWest","subtotal":5499.95,"tax":824.9925,"total":6339.9425,"userId":1},"timestamp":"2025-10-04T04:10:40.295Z"}
{"error":"Error: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:700:11)\n    at ServerResponse.header (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.res.send (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\middlewares\\audit.middleware.ts:26:14)\n    at ServerResponse.json (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\express\\lib\\response.js:250:15)\n    at createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:163:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error placing order","payload":{"discount":0,"orderItems":[{"price":1099.99,"productId":1,"quantity":5,"variantId":2}],"shipping":15,"shippingCity":"Bamenda","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"remote","shippingState":"NorthWest","subtotal":5499.95,"tax":824.9925,"total":6339.9425,"userId":1},"timestamp":"2025-10-04T04:11:53.141Z"}
{"body":{"categoryId":"2","description":"Heels for women","inStock":"true","name":"heels","price":"2"},"error":"PrismaClientValidationError: \nInvalid `prisma.product.create()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:83:42\n\n  80     .json({ message: \"Product with this name already exists\" });\n  81 }\n  82 \n→ 83 const product = await prisma.product.create({\n       data: {\n         name: \"heels\",\n         description: \"Heels for women\",\n         price: 2,\n         imageurl: \"/uploads/1759964489536-get started.jpeg\",\n         category: {\n           connect: {\n             name: undefined,\n     ?       id?: Int,\n     ?       AND?: CategoryWhereInput | CategoryWhereInput[],\n     ?       OR?: CategoryWhereInput[],\n     ?       NOT?: CategoryWhereInput | CategoryWhereInput[],\n     ?       products?: ProductListRelationFilter\n           }\n         }\n       }\n     })\n\nArgument `connect` of type CategoryWhereUniqueInput needs at least one of `id` or `name` arguments. Available options are marked with ?.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async createProduct (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:83:21)","level":"error","message":"Error creating product","timestamp":"2025-10-08T23:01:29.764Z"}
{"body":{"categoryId":"2","description":"Heels for women","inStock":"true","name":"heels","price":"22"},"error":"PrismaClientValidationError: \nInvalid `prisma.product.create()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:83:42\n\n  80     .json({ message: \"Product with this name already exists\" });\n  81 }\n  82 \n→ 83 const product = await prisma.product.create({\n       data: {\n         name: \"heels\",\n         description: \"Heels for women\",\n         price: 22,\n         imageurl: \"/uploads/1759964509516-get started.jpeg\",\n         category: {\n           connect: {\n             name: undefined,\n     ?       id?: Int,\n     ?       AND?: CategoryWhereInput | CategoryWhereInput[],\n     ?       OR?: CategoryWhereInput[],\n     ?       NOT?: CategoryWhereInput | CategoryWhereInput[],\n     ?       products?: ProductListRelationFilter\n           }\n         }\n       }\n     })\n\nArgument `connect` of type CategoryWhereUniqueInput needs at least one of `id` or `name` arguments. Available options are marked with ?.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async createProduct (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:83:21)","level":"error","message":"Error creating product","timestamp":"2025-10-08T23:01:49.554Z"}
{"body":{"categoryId":"2","description":"Heels for women","inStock":"true","name":"heels","price":"22"},"error":"PrismaClientValidationError: \nInvalid `prisma.product.create()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:83:42\n\n  80     .json({ message: \"Product with this name already exists\" });\n  81 }\n  82 \n→ 83 const product = await prisma.product.create({\n       data: {\n         name: \"heels\",\n         description: \"Heels for women\",\n         price: 22,\n         imageurl: \"/uploads/1759964670823-get started.jpeg\",\n         category: {\n           connect: {\n             name: undefined,\n     ?       id?: Int,\n     ?       AND?: CategoryWhereInput | CategoryWhereInput[],\n     ?       OR?: CategoryWhereInput[],\n     ?       NOT?: CategoryWhereInput | CategoryWhereInput[],\n     ?       products?: ProductListRelationFilter\n           }\n         }\n       }\n     })\n\nArgument `connect` of type CategoryWhereUniqueInput needs at least one of `id` or `name` arguments. Available options are marked with ?.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async createProduct (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:83:21)","level":"error","message":"Error creating product","timestamp":"2025-10-08T23:04:30.976Z"}
{"body":{"categoryId":"2","description":"Heels for women","inStock":"true","name":"heels","price":"22"},"error":"TypeError: Cannot read properties of undefined (reading 'id')\n    at createProduct (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:101:26)","level":"error","message":"Error creating product","timestamp":"2025-10-08T23:07:24.428Z"}
{"body":{"categoryId":"2","description":"Mens clothing line","inStock":"true","name":"T-shirt","price":"9"},"error":"TypeError: Cannot read properties of undefined (reading 'id')\n    at createProduct (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:91:25)","level":"error","message":"Error creating product","timestamp":"2025-10-09T19:19:03.704Z"}
{"body":{"categoryId":"2","description":"Men's clothing line","inStock":"true","name":"Polo","price":"24"},"error":"TypeError: Cannot read properties of undefined (reading 'id')\n    at createProduct (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:91:25)","level":"error","message":"Error creating product","timestamp":"2025-10-09T19:30:35.862Z"}
{"body":{"categoryId":"2","description":"Men's clothing line","inStock":"true","name":"Polo","price":"24"},"error":"TypeError: Cannot read properties of undefined (reading 'id')\n    at createProduct (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:91:25)","level":"error","message":"Error creating product","timestamp":"2025-10-09T19:39:04.244Z"}
{"body":{"categoryId":"4","description":"Pencils are used for studies","inStock":"true","name":"Pencil","price":"21"},"error":"TypeError: Cannot read properties of undefined (reading 'id')\n    at createProduct (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:91:25)","level":"error","message":"Error creating product","timestamp":"2025-10-09T19:41:22.628Z"}
{"body":{"categoryId":"4","description":"Pencils are used for studies","inStock":"true","name":"Pencil","price":"21"},"error":"TypeError: Cannot read properties of undefined (reading 'id')\n    at createProduct (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:91:25)","level":"error","message":"Error creating product","timestamp":"2025-10-09T19:47:55.811Z"}
{"body":{"categoryId":"4","description":"Pencils are used for studies","inStock":"true","name":"Pencil","price":"21"},"error":"TypeError: Cannot read properties of undefined (reading 'id')\n    at createProduct (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:91:25)","level":"error","message":"Error creating product","timestamp":"2025-10-09T19:49:18.048Z"}
{"error":"PrismaClientKnownRequestError: \nInvalid `prisma.category.create()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:20:46\n\n  17   return res.status(400).json({ error: \"Category name is required.\" });\n  18 }\n  19 \n→ 20 const category = await prisma.category.create(\nUnique constraint failed on the fields: (`name`)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:7268)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async exports.createCategory (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:20:24)","level":"error","message":"Error creating category","timestamp":"2025-10-10T14:30:19.818Z"}
{"error":"PrismaClientValidationError: \nInvalid `prisma.category.findUnique()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:54:44\n\n  51 const { id } = req.params;\n  52 const categoryId = Number(id);\n  53 try {\n→ 54   const category = await prisma.category.findUnique({\n         where: {\n       +   id: Int\n         },\n         include: {\n           products: true\n         }\n       })\n\nArgument `id` is missing.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async getCategoryById (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:54:22)","id":null,"level":"error","message":"Error fetching category by ID","timestamp":"2025-10-10T18:35:19.502Z"}
{"error":"PrismaClientValidationError: \nInvalid `prisma.category.findUnique()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:54:44\n\n  51 const { id } = req.params;\n  52 const categoryId = Number(id);\n  53 try {\n→ 54   const category = await prisma.category.findUnique({\n         where: {\n       +   id: Int\n         },\n         include: {\n           products: true\n         }\n       })\n\nArgument `id` is missing.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async getCategoryById (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:54:22)","id":null,"level":"error","message":"Error fetching category by ID","timestamp":"2025-10-10T18:35:40.824Z"}
{"error":"PrismaClientValidationError: \nInvalid `prisma.category.findUnique()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:54:44\n\n  51 const { id } = req.params;\n  52 const categoryId = Number(id);\n  53 try {\n→ 54   const category = await prisma.category.findUnique({\n         where: {\n       +   id: Int\n         },\n         include: {\n           products: true\n         }\n       })\n\nArgument `id` is missing.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async getCategoryById (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:54:22)","id":null,"level":"error","message":"Error fetching category by ID","timestamp":"2025-10-10T18:36:08.415Z"}
{"error":"PrismaClientValidationError: \nInvalid `prisma.category.findUnique()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:54:44\n\n  51 const { id } = req.params;\n  52 const categoryId = Number(id);\n  53 try {\n→ 54   const category = await prisma.category.findUnique({\n         where: {\n       +   id: Int\n         },\n         include: {\n           products: true\n         }\n       })\n\nArgument `id` is missing.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async getCategoryById (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:54:22)","id":null,"level":"error","message":"Error fetching category by ID","timestamp":"2025-10-10T18:36:30.778Z"}
{"error":"PrismaClientKnownRequestError: \nInvalid `prisma.category.create()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:20:46\n\n  17   return res.status(400).json({ error: \"Category name is required.\" });\n  18 }\n  19 \n→ 20 const category = await prisma.category.create(\nUnique constraint failed on the fields: (`name`)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:7268)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async exports.createCategory (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\category.controller.ts:20:24)","level":"error","message":"Error creating category","timestamp":"2025-10-10T18:54:38.867Z"}
{"error":"PrismaClientKnownRequestError: \nInvalid `prisma.variant.delete()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\variant.controller.ts:142:32\n\n  139   return res.status(400).json({ error: \"Invalid variant ID.\" });\n  140 }\n  141 \n→ 142 await prisma.variant.delete(\nForeign key constraint violated on the constraint: `Inventory_variantId_fkey`\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:7268)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async deleteVariant (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\variant.controller.ts:142:5)","level":"error","message":"Error deleting variant","timestamp":"2025-10-10T22:05:20.457Z"}
{"error":"PrismaClientKnownRequestError: \nInvalid `prisma.variant.delete()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\variant.controller.ts:142:32\n\n  139   return res.status(400).json({ error: \"Invalid variant ID.\" });\n  140 }\n  141 \n→ 142 await prisma.variant.delete(\nForeign key constraint violated on the constraint: `Inventory_variantId_fkey`\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:7268)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async deleteVariant (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\variant.controller.ts:142:5)","level":"error","message":"Error deleting variant","timestamp":"2025-10-10T22:07:36.429Z"}
{"error":"PrismaClientKnownRequestError: \nInvalid `prisma.variant.delete()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\variant.controller.ts:142:32\n\n  139   return res.status(400).json({ error: \"Invalid variant ID.\" });\n  140 }\n  141 \n→ 142 await prisma.variant.delete(\nForeign key constraint violated on the constraint: `Inventory_variantId_fkey`\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:7268)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async deleteVariant (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\variant.controller.ts:142:5)","level":"error","message":"Error deleting variant","timestamp":"2025-10-10T22:09:37.368Z"}
{"error":"PrismaClientValidationError: \nInvalid `prisma.product.update()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:187:49\n\n  184   updatedData.imageurl = null;\n  185 }\n  186 \n→ 187 const updatedProduct = await prisma.product.update({\n        where: {\n          id: 1\n        },\n        data: {\n          name: \"Smartphone X\",\n          price: 999.99,\n          description: \"Latest smartphone with advanced features\",\n          inStock: true,\n          ~~~~~~~\n          imageurl: \"1760348356758-IMG-20250824-WA0107.jpg\",\n      ?   updatedAt?: DateTime | DateTimeFieldUpdateOperationsInput,\n      ?   category?: CategoryUpdateOneRequiredWithoutProductsNestedInput,\n      ?   orderItems?: OrderItemUpdateManyWithoutProductNestedInput,\n      ?   variants?: VariantUpdateManyWithoutProductNestedInput\n        }\n      })\n\nUnknown argument `inStock`. Available options are marked with ?.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async updateProduct (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\product.controller.ts:187:28)","level":"error","message":"Error updating product","productId":1,"timestamp":"2025-10-13T09:39:17.049Z"}
{"error":"PrismaClientValidationError: \nInvalid `prisma.order.findUnique()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\payment.controller.ts:119:38\n\n  116 const { orderId } = req.body;\n  117 \n  118 // Validate user owns the order\n→ 119 const order = await prisma.order.findUnique({\n        where: {\n          id: undefined,\n      ?   AND?: OrderWhereInput | OrderWhereInput[],\n      ?   OR?: OrderWhereInput[],\n      ?   NOT?: OrderWhereInput | OrderWhereInput[],\n      ?   userId?: IntFilter | Int,\n      ?   orderDate?: DateTimeFilter | DateTime,\n      ?   discount?: FloatFilter | Float,\n      ?   tax?: FloatFilter | Float,\n      ?   shipping?: FloatFilter | Float,\n      ?   total?: FloatFilter | Float,\n      ?   totalAmount?: DecimalFilter | Decimal,\n      ?   status?: EnumStatusFilter | Status,\n      ?   shippingCity?: StringFilter | String,\n      ?   shippingState?: StringFilter | String,\n      ?   shippingCountry?: StringFilter | String,\n      ?   shippingMethod?: StringFilter | String,\n      ?   updatedAt?: DateTimeFilter | DateTime,\n      ?   createdAt?: DateTimeFilter | DateTime,\n      ?   user?: UserScalarRelationFilter | UserWhereInput,\n      ?   orderItems?: OrderItemListRelationFilter,\n      ?   payment?: PaymentNullableScalarRelationFilter | PaymentWhereInput | Null\n        },\n        include: {\n          orderItems: {\n            include: {\n              product: true,\n              variant: true\n            }\n          },\n          payment: true\n        }\n      })\n\nArgument `where` of type OrderWhereUniqueInput needs at least one of `id` arguments. Available options are marked with ?.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async createCheckoutSession (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\payment.controller.ts:119:19)","level":"error","message":"Stripe checkout session failed","timestamp":"2025-10-22T15:28:58.572Z"}
{"error":"\nInvalid `tx.order.create()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:137:36\n\n  134 }\n  135 \n  136 // 3️⃣ Create order and order items\n→ 137 const order = await tx.order.create({\n        data: {\n          userId: 8,\n          orderDate: new Date(\"2025-10-25T12:05:29.189Z\"),\n          discount: 0,\n          tax: 25.485,\n          shipping: 10,\n          total: 205.385,\n          totalAmount: 205.385,\n          status: \"Pending\",\n          shippingCity: \"Buea\",\n          shippingState: \"South West\",\n          shippingCountry: \"Cameroon\",\n          shippingMethod: \"standard\",\n          orderItems: {\n            create: [\n              {\n                productId: 8,\n                variantId: null,\n                quantity: 1,\n                price: 19\n              },\n              {\n                productId: 9,\n                variantId: null,\n                quantity: 1,\n                price: 21\n              },\n              {\n                productId: 6,\n                variantId: null,\n                quantity: 1,\n                price: 129.9\n              }\n            ]\n          }\n        },\n        include: {\n          orderItems: true\n        }\n      })\n\nArgument `product` is missing.","level":"error","message":"❌ Error placing order","payload":{"discount":0,"orderItems":[{"price":19,"productId":8,"productName":"Heels","quantity":1,"variantId":null},{"price":21,"productId":9,"productName":"Pencil","quantity":1,"variantId":null},{"price":129.9,"productId":6,"productName":"Running shoes","quantity":1,"variantId":null}],"promoCode":"Welcome10","shipping":10,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"urban","shippingState":"South West","subtotal":169.9,"tax":25.485,"total":205.385,"userId":8},"timestamp":"2025-10-25T12:05:29.273Z"}
{"error":"\nInvalid `tx.order.create()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:137:36\n\n  134 }\n  135 \n  136 // 3️⃣ Create order and order items\n→ 137 const order = await tx.order.create({\n        data: {\n          userId: 8,\n          orderDate: new Date(\"2025-10-25T12:05:40.927Z\"),\n          discount: 0,\n          tax: 25.485,\n          shipping: 10,\n          total: 205.385,\n          totalAmount: 205.385,\n          status: \"Pending\",\n          shippingCity: \"Buea\",\n          shippingState: \"South West\",\n          shippingCountry: \"Cameroon\",\n          shippingMethod: \"standard\",\n          orderItems: {\n            create: [\n              {\n                productId: 8,\n                variantId: null,\n                quantity: 1,\n                price: 19\n              },\n              {\n                productId: 9,\n                variantId: null,\n                quantity: 1,\n                price: 21\n              },\n              {\n                productId: 6,\n                variantId: null,\n                quantity: 1,\n                price: 129.9\n              }\n            ]\n          }\n        },\n        include: {\n          orderItems: true\n        }\n      })\n\nArgument `product` is missing.","level":"error","message":"❌ Error placing order","payload":{"discount":0,"orderItems":[{"price":19,"productId":8,"productName":"Heels","quantity":1,"variantId":null},{"price":21,"productId":9,"productName":"Pencil","quantity":1,"variantId":null},{"price":129.9,"productId":6,"productName":"Running shoes","quantity":1,"variantId":null}],"promoCode":"Welcome10","shipping":10,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"urban","shippingState":"South West","subtotal":169.9,"tax":25.485,"total":205.385,"userId":8},"timestamp":"2025-10-25T12:05:40.941Z"}
{"error":"\nInvalid `tx.order.create()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:137:36\n\n  134 }\n  135 \n  136 // 3️⃣ Create order and order items\n→ 137 const order = await tx.order.create({\n        data: {\n          userId: 8,\n          orderDate: new Date(\"2025-10-25T12:05:53.848Z\"),\n          discount: 0,\n          tax: 25.485,\n          shipping: 10,\n          total: 205.385,\n          totalAmount: 205.385,\n          status: \"Pending\",\n          shippingCity: \"Buea\",\n          shippingState: \"South West\",\n          shippingCountry: \"Cameroon\",\n          shippingMethod: \"standard\",\n          orderItems: {\n            create: [\n              {\n                productId: 8,\n                variantId: null,\n                quantity: 1,\n                price: 19\n              },\n              {\n                productId: 9,\n                variantId: null,\n                quantity: 1,\n                price: 21\n              },\n              {\n                productId: 6,\n                variantId: null,\n                quantity: 1,\n                price: 129.9\n              }\n            ]\n          }\n        },\n        include: {\n          orderItems: true\n        }\n      })\n\nArgument `product` is missing.","level":"error","message":"❌ Error placing order","payload":{"discount":0,"orderItems":[{"price":19,"productId":8,"productName":"Heels","quantity":1,"variantId":null},{"price":21,"productId":9,"productName":"Pencil","quantity":1,"variantId":null},{"price":129.9,"productId":6,"productName":"Running shoes","quantity":1,"variantId":null}],"promoCode":"Welcome10","shipping":10,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"urban","shippingState":"South West","subtotal":169.9,"tax":25.485,"total":205.385,"userId":8},"timestamp":"2025-10-25T12:05:53.868Z"}
{"error":"\nInvalid `tx.order.create()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:137:36\n\n  134 }\n  135 \n  136 // 3️⃣ Create order and order items\n→ 137 const order = await tx.order.create({\n        data: {\n          userId: 8,\n          orderDate: new Date(\"2025-10-25T17:34:45.115Z\"),\n          discount: 0,\n          tax: 25.485,\n          shipping: 10,\n          total: 205.385,\n          totalAmount: 205.385,\n          status: \"Pending\",\n          shippingCity: \"Buea\",\n          shippingState: \"South West\",\n          shippingCountry: \"Cameroon\",\n          shippingMethod: \"standard\",\n          orderItems: {\n            create: [\n              {\n                quantity: 1,\n                price: 19,\n                variantId: null,\n                product: {\n                  connect: {\n                    id: 8\n                  }\n                }\n              },\n              {\n                quantity: 1,\n                price: 21,\n                variantId: null,\n                product: {\n                  connect: {\n                    id: 9\n                  }\n                }\n              },\n              {\n                quantity: 1,\n                price: 129.9,\n                variantId: null,\n                product: {\n                  connect: {\n                    id: 6\n                  }\n                }\n              }\n            ]\n          }\n        },\n        include: {\n          orderItems: true\n        }\n      })\n\nArgument `variant` is missing.","level":"error","message":"❌ Error placing order","payload":{"discount":0,"orderItems":[{"price":19,"productId":8,"productName":"Heels","quantity":1,"variantId":null},{"price":21,"productId":9,"productName":"Pencil","quantity":1,"variantId":null},{"price":129.9,"productId":6,"productName":"Running shoes","quantity":1,"variantId":null}],"promoCode":"","shipping":10,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"urban","shippingState":"South West","subtotal":169.9,"tax":25.485,"total":205.385,"userId":8},"timestamp":"2025-10-25T17:34:45.196Z"}
{"error":"\nInvalid `tx.order.create()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:137:36\n\n  134 }\n  135 \n  136 // 3️⃣ Create order and order items\n→ 137 const order = await tx.order.create({\n        data: {\n          userId: 8,\n          orderDate: new Date(\"2025-10-25T17:36:15.803Z\"),\n          discount: 0,\n          tax: 25.485,\n          shipping: 10,\n          total: 205.385,\n          totalAmount: 205.385,\n          status: \"Pending\",\n          shippingCity: \"Buea\",\n          shippingState: \"South West\",\n          shippingCountry: \"Cameroon\",\n          shippingMethod: \"standard\",\n          orderItems: {\n            create: [\n              {\n                quantity: 1,\n                price: 19,\n                variant: {\n                  connect: {\n                    id: null\n                  }\n                },\n                product: {\n                  connect: {\n                    id: 8\n                  }\n                }\n              },\n              {\n                quantity: 1,\n                price: 21,\n                variant: {\n                  connect: {\n                    id: null\n                  }\n                },\n                product: {\n                  connect: {\n                    id: 9\n                  }\n                }\n              },\n              {\n                quantity: 1,\n                price: 129.9,\n                variant: {\n                  connect: {\n                    id: null\n                  }\n                },\n                product: {\n                  connect: {\n                    id: 6\n                  }\n                }\n              }\n            ]\n          }\n        },\n        include: {\n          orderItems: true\n        }\n      })\n\nArgument `id` is missing.","level":"error","message":"❌ Error placing order","payload":{"discount":0,"orderItems":[{"price":19,"productId":8,"productName":"Heels","quantity":1,"variantId":null},{"price":21,"productId":9,"productName":"Pencil","quantity":1,"variantId":null},{"price":129.9,"productId":6,"productName":"Running shoes","quantity":1,"variantId":null}],"promoCode":"","shipping":10,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"urban","shippingState":"South West","subtotal":169.9,"tax":25.485,"total":205.385,"userId":8},"timestamp":"2025-10-25T17:36:15.922Z"}
{"error":"PrismaClientValidationError: \nInvalid `tx.inventory.findUnique()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:94:42\n\n  91 const result = await prisma.$transaction(async (tx) => {\n  92   //  1. Check stock\n  93   for (const item of orderItems) {\n→ 94     const stock = await tx.inventory.findUnique({\n           where: {\n         +   variantId: Int\n           }\n         })\n\nArgument `variantId` must not be null.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:94:23\n    at async Proxy._transactionWithCallback (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:8120)\n    at async createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:91:20)","level":"error","message":"Error placing order","payload":{"discount":0,"orderItems":[{"price":19,"productId":8,"productName":"Heels","quantity":1,"variantId":null},{"price":21,"productId":9,"productName":"Pencil","quantity":1,"variantId":null},{"price":129.9,"productId":6,"productName":"Running shoes","quantity":1,"variantId":null}],"promoCode":"","shipping":10,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"urban","shippingState":"South West","subtotal":169.9,"tax":25.485,"total":205.385,"userId":8},"timestamp":"2025-10-25T17:36:53.677Z"}
{"error":"PrismaClientValidationError: \nInvalid `tx.inventory.findUnique()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:94:42\n\n  91 const result = await prisma.$transaction(async (tx) => {\n  92   //  1. Check stock\n  93   for (const item of orderItems) {\n→ 94     const stock = await tx.inventory.findUnique({\n           where: {\n         +   variantId: Int\n           }\n         })\n\nArgument `variantId` must not be null.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:94:23\n    at async Proxy._transactionWithCallback (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:8120)\n    at async createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:91:20)","level":"error","message":"Error placing order","payload":{"discount":0,"orderItems":[{"price":29.99,"productId":3,"productName":"Cotton T-Shirts","quantity":1,"variantId":null},{"price":79.99,"productId":4,"productName":"Garden Chair - undefined","quantity":1,"variantId":9}],"promoCode":"","shipping":10,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"urban","shippingState":"South West","subtotal":109.97999999999999,"tax":16.496999999999996,"total":136.47699999999998,"userId":8},"timestamp":"2025-10-25T18:50:20.568Z"}
{"error":"Error: Invalid API Key provided: sk_test_...\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\stripe\\cjs\\RequestSender.js:96:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","errorType":"StripeAuthenticationError","level":"error","message":"Stripe checkout session failed","orderId":13,"timestamp":"2025-10-25T18:50:55.965Z"}
{"error":"Error: Invalid API Key provided: sk_test_...\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\stripe\\cjs\\RequestSender.js:96:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","errorType":"StripeAuthenticationError","level":"error","message":"Stripe checkout session failed","orderId":13,"timestamp":"2025-10-25T19:44:39.443Z"}
{"error":"Error: Invalid API Key provided: sk_test_...\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\stripe\\cjs\\RequestSender.js:96:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","errorType":"StripeAuthenticationError","level":"error","message":"Stripe checkout session failed","orderId":13,"timestamp":"2025-10-25T19:45:25.187Z"}
{"error":"Error: Invalid URL: An explicit scheme (such as https) must be provided.\n    at generateV1Error (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\stripe\\cjs\\Error.js:11:20)\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","errorCode":"url_invalid","errorType":"StripeInvalidRequestError","level":"error","message":"Stripe checkout session failed","orderId":13,"timestamp":"2025-10-25T19:50:24.612Z"}
{"error":"PrismaClientValidationError: \nInvalid `tx.inventory.findUnique()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:94:42\n\n  91 const result = await prisma.$transaction(async (tx) => {\n  92   //  1. Check stock\n  93   for (const item of orderItems) {\n→ 94     const stock = await tx.inventory.findUnique({\n           where: {\n         +   variantId: Int\n           }\n         })\n\nArgument `variantId` must not be null.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:94:23\n    at async Proxy._transactionWithCallback (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:8120)\n    at async createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:91:20)","level":"error","message":"Error placing order","payload":{"discount":0,"orderItems":[{"price":79.99,"productId":4,"productName":"Garden Chair - undefined","quantity":1,"variantId":9},{"price":21,"productId":9,"productName":"Pencil","quantity":1,"variantId":null},{"price":49.99,"productId":5,"productName":"Programming Book - undefined","quantity":1,"variantId":10}],"promoCode":"Welcome10","shipping":20,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"express","shippingRegion":"urban","shippingState":"South West","subtotal":150.98,"tax":22.647,"total":193.62699999999998,"userId":8},"timestamp":"2025-10-25T20:55:37.367Z"}
{"error":"Error: An error occurred with our connection to Stripe. Request was retried 2 times.\n    at C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\stripe\\cjs\\RequestSender.js:398:41\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","errorType":"StripeConnectionError","level":"error","message":"Stripe checkout session failed","orderId":15,"timestamp":"2025-10-27T08:21:31.231Z"}
{"error":"Error: Request aborted due to timeout being reached (80000ms)\n    at C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\stripe\\cjs\\RequestSender.js:398:41\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","errorType":"StripeConnectionError","level":"error","message":"Stripe checkout session failed","orderId":15,"timestamp":"2025-10-27T08:23:23.874Z"}
{"error":"PrismaClientValidationError: \nInvalid `tx.inventory.findUnique()` invocation in\nC:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:94:42\n\n  91 const result = await prisma.$transaction(async (tx) => {\n  92   //  1. Check stock\n  93   for (const item of orderItems) {\n→ 94     const stock = await tx.inventory.findUnique({\n           where: {\n         +   variantId: Int\n           }\n         })\n\nArgument `variantId` must not be null.\n    at Nn (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:32:1363)\n    at ei.handleRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6911)\n    at ei.handleAndLogRequestError (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6593)\n    at ei.request (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:124:6300)\n    at async a (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:9551)\n    at async C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:94:23\n    at async Proxy._transactionWithCallback (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:8120)\n    at async createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:91:20)","level":"error","message":"Error placing order","payload":{"discount":1.97,"orderItems":[{"price":19.7,"productId":7,"productName":"Comic Story","quantity":1,"variantId":null}],"promoCode":"WELCOME10","shipping":10,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"standard","shippingRegion":"urban","shippingState":"Southwest","subtotal":19.7,"tax":2.6595,"total":30.3895,"userId":8},"timestamp":"2025-10-28T01:23:32.205Z"}
{"attemptedStatus":"Delivered","error":"TypeError: Cannot read properties of undefined (reading 'emit')\n    at updateOrderStatus (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:226:8)","level":"error","message":"Error updating order status","orderId":16,"timestamp":"2025-10-29T10:14:38.004Z"}
{"attemptedStatus":"Shipped","error":"TypeError: Cannot read properties of undefined (reading 'emit')\n    at updateOrderStatus (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:226:8)","level":"error","message":"Error updating order status","orderId":15,"timestamp":"2025-10-29T10:14:56.442Z"}
{"error":"Error: Insufficient stock for variant 1. Available: 0\n    at C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:99:17\n    at async Proxy._transactionWithCallback (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\generated\\prisma\\runtime\\library.js:133:8120)\n    at async createOrder (C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\src\\controllers\\order.controller.ts:91:20)","level":"error","message":"Error placing order","payload":{"discount":17.8,"orderItems":[{"price":49,"productId":4,"quantity":1,"variantId":1},{"price":129,"productId":10,"quantity":1,"variantId":6}],"promoCode":"WELCOME10","shipping":10,"shippingCity":"Buea","shippingCountry":"Cameroon","shippingMethod":"Standard","shippingRegion":"urban","shippingState":"Southwest","subtotal":178,"tax":24.029999999999998,"total":194.23,"userId":2},"timestamp":"2025-11-05T12:06:51.309Z"}
{"error":"Error: An error occurred with our connection to Stripe. Request was retried 2 times.\n    at C:\\Users\\Administrator\\Desktop\\e-commerce website\\server\\node_modules\\stripe\\cjs\\RequestSender.js:398:41\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","errorType":"StripeConnectionError","level":"error","message":"Stripe checkout session failed","orderId":4,"timestamp":"2025-11-08T10:20:47.257Z"}
